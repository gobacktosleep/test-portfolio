import i18Obj from"./translate.js";let lang={default:"en",current:null};lang.current=localStorage.getItem("lang")||lang.default;const getTranslate=e=>{document.querySelectorAll("[data-i18n]").forEach((t=>{t.placeholder?t.placeholder=i18Obj[e][t.dataset.i18n]:t.textContent=i18Obj[e][t.dataset.i18n]}))},setLocalStorage=()=>localStorage.setItem("lang",lang.current),getLocalStorage=()=>{lang.default!=lang.current&&(getTranslate(lang.current),document.querySelector(`.lang-switcher__radio[value="${lang.current}"]`).checked=!0)},setLanguage=()=>{lang.current=document.querySelector(".lang-switcher__radio:checked").value,getTranslate(lang.current),localStorage.setItem("lang",lang.current)};window.addEventListener("DOMContentLoaded",(()=>{lang.default!=lang.current&&(getTranslate(lang.current),document.querySelector(`.lang-switcher__radio[value="${lang.current}"]`).checked=!0),document.querySelector(".lang-switcher").addEventListener("change",setLanguage)}));const menuToggle=document.querySelector(".burger"),nav=document.querySelector(".menu"),navLink=document.querySelectorAll(".menu__link");menuToggle.addEventListener("click",(()=>{nav.classList.toggle("opened"),menuToggle.classList.toggle("opened"),document.body.classList.toggle("lock")})),navLink.forEach((e=>e.addEventListener("click",(()=>{nav.classList.remove("opened"),menuToggle.classList.remove("opened"),document.body.classList.remove("lock")}))));const storageKey="theme",onClick=()=>{theme.value="light"===theme.value?"dark":"light",setPreference()},getColorPreference=()=>localStorage.getItem("theme")?localStorage.getItem("theme"):window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",setPreference=()=>{localStorage.setItem("theme",theme.value),reflectPreference()},reflectPreference=()=>{document.firstElementChild.setAttribute("data-theme",theme.value),document.querySelector(".theme-toggle")?.setAttribute("aria-label",theme.value)},theme={value:localStorage.getItem("theme")?localStorage.getItem("theme"):window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"};function preloadImages(){["winter","spring","summer","autumn"].forEach((e=>{for(let t=1;t<=6;t++){(new Image).src=`./img/${e}/${t}.jpg`}}))}reflectPreference(),window.onload=()=>{reflectPreference(),document.querySelector(".theme-toggle").addEventListener("click",onClick)},window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(({matches:e})=>{theme.value=e?"dark":"light",setPreference()})),preloadImages();const portfolioButtons=document.querySelector(".portfolio__buttons"),portfolioImages=document.querySelectorAll(".portfolio__image");function changePath(e){const t=e.dataset.season;portfolioImages.forEach(((e,a)=>{e.src=`./img/${t}/${a+1}.jpg`,e.alt=`${t} photography`}))}function changeButton(e){document.querySelector(".portfolio__button--active").classList.remove("portfolio__button--active"),e.classList.add("portfolio__button--active")}function changeImage(e){e.target.classList.contains("portfolio__button")&&!e.target.classList.contains("portfolio__button--active")&&(changePath(e.target),changeButton(e.target))}portfolioButtons.addEventListener("click",changeImage);